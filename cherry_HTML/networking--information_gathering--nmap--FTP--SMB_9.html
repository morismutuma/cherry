<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>SMB</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>SMB</h1><br/><p>First is information gathering </p><p>but first you connect to a vpn file </p><p> </p><p> be a root</p><p>  </p><p> sudo su</p><p> then give the password </p><p> </p><p> then you have to ping to or greet the  target machine to see if it is there </p><p> </p><p> ping 10.129.223.192</p><p> </p><p> <img src="images/9-1.png" alt="images/9-1.png" />jjj</p><p> </p><p> using nmap then is scan target machine   </p><p> </p><p> nmap -sV -O 10.129.223.192  -sV specifies the version and -O specifies the OS IT is using </p><p> </p><p> <img src="images/9-2.png" alt="images/9-2.png" /></p><p></p><p></p><p><img src="images/9-3.png" alt="images/9-3.png" />jjj</p><p></p><p>smbclient -L //10.129.223.192 --option=&quot;client min protocol = SMB2&quot;</p><p></p><p>smbclient this command is used to access CMB/CIFS resources on server </p><p></p><p>-L This command list shares available in a specified server </p><p></p><p>//10.129.223.192  the  ip of the the target machine</p><p></p><p>// this indicate the beginning of server address</p><p></p><p>--option=&quot;client min protocol = SMB2 this command set the option for the smb client </p><p></p><p>specifically setting smb minimum protocal version  for SMB2</p><p></p><p>This is specifying that the client should use at least the SMB2 protocol when communicating with the server.</p><p></p><p>So, when you run this command, smbclient will attempt to connect to the specified server (10.129.223.192), and it will request a list of available shares using the SMB2 protocol or a higher version if available.</p><p></p><p></p><p><img src="images/9-4.png" alt="images/9-4.png" /></p><p></p><p></p><p>Then you can  use tools like enum4linux to enumerate users and other information from the SMB service. The command would look something like this:</p><p>you can sudo if you like </p><p></p><p>enum4linux -U -S -G -H -o 10.129.223.192 </p><p></p><p>-U: This option tells enum4linux to enumerate users.</p><p></p><p>-S: This option instructs enum4linux to enumerate shares.</p><p></p><p>-G: This option is for enumerating groups.</p><p></p><p>-H: This option performs a basic password policy retrieval.</p><p></p><p>-o 10.129.24.33: This specifies the target IP address (or hostname) to perform the enumeration on. In this case, the target is 10.129.24.33.</p><p></p><p>When you run this command, enum4linux will connect to the specified IP address (10.129.24.33) and attempt to gather information about users, shares, groups, and the password policy on the target system.</p><p></p><p>Here&#39;s a brief explanation of what each enumeration option does:</p><p></p><p>User Enumeration (-U): Enumerates information about users on the target system.</p><p></p><p>Share Enumeration (-S): Lists information about available shares on the target system.</p><p></p><p>Group Enumeration (-G): Retrieves details about groups on the target system.</p><p></p><p>Password Policy Enumeration (-H): Retrieves and displays basic information about the password policy on the target system.</p><p></p><p>After running this command, enum4linux will provide you with information about users, shares, groups, and password policy on the specified target system. This information can be valuable for further penetration testing and assessing the security of the system.</p><p></p><p>enum4linux -U -S -G -H -o 10.129.223.192 </p><p></p><p><img src="images/9-5.png" alt="images/9-5.png" /></p><p> </p><p> </p><p> then you can connect to the client machine using the smbclient command and give the username you found using enumlinux and password </p><p> </p><p> smbclient //10.129.223.192/WorkShares   -U root     -----Workshares is the sharesname you found in the machine if it has a dollar sign it means you cannot acces with a blank password but if no dollar sign means you can access with a blank password </p><p> </p><p> <img src="images/9-6.png" alt="images/9-6.png" /><img src="images/9-7.png" alt="images/9-7.png" /><img src="images/9-8.png" alt="images/9-8.png" /></p><p></p><p></p><p>That shows i was able to access the machine see the files and downloaded them using the get command to my current working directory folder also ls list the files and folders in the target machine ie flag.txt and worknotes.txt</p><p></p><p>great hacked the machine</p></div>
</body>
</html>
